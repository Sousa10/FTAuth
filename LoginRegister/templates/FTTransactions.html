{% extends 'base.html' %}

{% load static %}
{% block title %}Calendar{% endblock %}

{% block pageimage %}
<img style="float: left;" src="{% static 'calendar.jpg' %}" alt="Calendar Tile missing" width="100"
  height="100">
{% endblock %}
{% block backurl %}{%url 'LoginRegister:FTMainMenu'%}{% endblock %}

{% block pageTitle %}
<div class="h1">
  <a style="color:rgb(6, 6, 192)">
    <p style="font-size:40px">
      <h2>Transactions</h2>
    </p>
  </a>
</div>
{% endblock %}

{% block content %}
<h2>Upload Excel File</h2>
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Upload</button>
</form>

<h2>Transactions</h2>
<table>
    <thead>
        <tr>
            <th>Description</th>
            <th>Date</th>
            <th>Note</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for transaction in transactions %}
        <tr>
            <td>{{ transaction.description }}</td>
            <td>{{ transaction.date }}</td>
            <td>{{ transaction.note }}</td>
            <td>
              <a href="{% url 'LoginRegister:transaction_delete' transaction.id %}" class="btn btn-danger">Delete</a>
              <a href="#" data-id="{{ cashinacctm.id }}" data-account="{{ cashinacctm.AccountNumber }}"
                data-description="{{ cashinacctm.Description }}" class="btn btn-secondary edit-button">Edit</a>

            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<div class="pagination">
  <span class="step-links">
    {% if transactions.has_previous %}
    <a href="?page=1">&laquo; first</a>
    <a href="?page={{ transactions.previous_page_number }}">previous</a>
    {% endif %}

    <span class="current">
      Page {{ transactions.number }} of {{ transactions.paginator.num_pages }}.
    </span>

    {% if transactions.has_next %}
    <a href="?page={{ transactions.next_page_number }}">next</a>
    <a href="?page={{ transactions.paginator.num_pages }}">last &raquo;</a>
    {% endif %}
  </span>
</div>
{% endblock %}